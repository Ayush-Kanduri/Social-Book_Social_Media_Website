<link rel="stylesheet" href="/css/friends_list.css" />
<script defer src="/js/profile.js"></script>
<script defer src="/js/lazy_loading.js"></script>

<div class="friends-container">
	<h2><%= title %></h2>
	<section>
		<!-- If Friends Exist  -->
		<% if (friends.length > 0) { %>
		<!-- Find Friends  -->
		<% for (const friend of friends) { %>
		<div
			class="card"
			onclick="window.location.href='/users/profile/<%= friend.id %>'"
		>
			<% if (friend.avatar) { %>
			<img
				src=""
				data-src="<%= friend.avatar %>"
				alt="<%= friend.name %>"
				onerror="this.onerror=null; this.src='/images/empty-avatar.png'"
				loading="lazy"
			/>
			<% } else { %>
			<img
				src=""
				data-src="/images/empty-avatar.png"
				alt="<%= friend.name %>"
				onerror="this.onerror=null; this.src='/images/empty-avatar.png'"
				loading="lazy"
			/>
			<% } %>
			<p><%= friend.name %></p>
		</div>
		<% } %>
		<!-- If Friends Don't Exist  -->
		<% } else { %>
		<h3 style="margin-top: 3rem">You Have No Friends</h3>
		<% } %>
	</section>
</div>
